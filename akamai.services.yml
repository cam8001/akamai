services:
  akamai.edgegridclient:
    class: Drupal\akamai\AkamaiClient
    arguments: ['@config.factory', '@logger.channel.akamai', '@akamai.status_storage', '@plugin.manager.akamai.credentials']
  plugin.manager.akamai.credentials:
    class: Drupal\akamai\CredentialsPluginManager
    arguments: ['@container.namespaces', '@cache.discovery', '@module_handler', '@config.factory']
  akamai.status_storage:
    class: Drupal\akamai\StatusStorage
    arguments: ['@config.factory', '@logger.channel.akamai']
  logger.channel.akamai:
    class: Drupal\Core\Logger\LoggerChannel
    factory: logger.factory:get
    arguments: ['akamai']
  akamai.config_subscriber:
    class: Drupal\akamai\EventSubscriber\ConfigSubscriber
    tags:
      - { name: event_subscriber }
